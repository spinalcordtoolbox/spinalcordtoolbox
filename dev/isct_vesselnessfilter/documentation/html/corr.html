<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>sct_segmentation_propagation: Correction Tips</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_neuropoly.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">sct_segmentation_propagation
   &#160;<span id="projectnumber">0.2.1</span>
   </div>
   <div id="projectbrief">Spinal Cord Segmentation Module</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Correction Tips </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>What to do if the propagated segmentation fails or contains local errors ?</p>
<p>Due to contrast variations in MR imaging protocols, the contrast between the spinal cord and the cerebro-spinal fluid (CSF) can differ between MR volumes. Therefore, our propagated segmentation method may fail sometimes in presence of artefact, low contrast, etc. Here above, we propose some protocols to correct some segmentation failures.</p>
<h1><a class="anchor" id="orient"></a>
Bad orientation and lack of CSF</h1>
<p>The computation of the spinal cord orientation, at each iteration of the propagation, can fail in lack of spinal cord/CSF contrast. Particularly, this situation can lead to an local over-segmentation or even to a propagation which has stopped too soon, resulting in a partial spinal cord segmentation.</p>
<p>Two correction protocols can be used to improve the segmentation : <b>add centerline information</b> and <b>correct the image</b></p>
<h2><a class="anchor" id="centerline"></a>
Add the spinal cord centerline</h2>
<p>The spinal cord orientation is computed at each propagation iteration by minimizing/maximizing (depending on the contrast type) the sum of gradient magnitude at vertices positions. Bad contrast or error propagation can make orientation computation difficult.</p>
<p>Centerline information can be provided (using "-init-centerline" parameter) to assure a correct orientation of the propagated deformable model. Spinal cord centerline can be a nifti image, with non-null values on centerline voxels. The orientation of the spinal cord will then be computed using a B-spline approximating the set of points extracted from this input image. Propagation will start at the center of the centerline (this can be change using "-init" parameter) and stop at its edges. Centerline can also be provided by a texte file, where each row contain x, y and z world coordinates (not pixel coordnates) of a point of the spinal cord, from the bottom to the top of the spinal cord.</p>
<h2><a class="anchor" id="image_correct"></a>
Correction of the image</h2>
<p>MR images can sometimes present local absence of contrast, making the spinal cord segmentation impossible. Therefore, this situation can only be resolved by correcting the initial image. FSL View (<a href="http://fsl.fmrib.ox.ac.uk/fsl/fslview/">http://fsl.fmrib.ox.ac.uk/fsl/fslview/</a>) is a powerfull software allowing to easily create a mask or correct an image.</p>
<p>You can enhance the contrast between the spinal ord and the CSF by changing the values of voxels when necessary.</p>
<h1><a class="anchor" id="detect"></a>
Wrong spinal crod detection</h1>
<p>In precence of other circular or elliptical structures in the image and at low contrast-to-noise ratio, the spinal cord detection module can fail. You can verify the detection by using "-detect-display" parameter, writing a PNG axial image with a white cross at the detected spinal cord position.</p>
<p>In case of failure, two choices are possible:</p>
<ol type="1">
<li>You change the starting position of the propagation (and the detection) in the image, by using "-init" parameter. You can provide a fraction (between 0 and 1) of the image in the inferior-superior director or the number of the desired slice.</li>
<li>Using "-init-mask" parameter, you can provide a binary mask (an MR volume, same header than input image) containing three non-null voxel, at the center of the spinal cord, separated by 4-5 mm in the axial direction. The center point will be used as the starting position and the two other point will be used to compute the spinal cord orientation in the top and bottom direction. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 1 2014 09:22:17 for sct_segmentation_propagation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
